# Документация разработчика

## Текст программы

### Наименование программы

**PKG_LAB4** — приложение для демонстрации базовых растровых алгоритмов рисования, разработанное с использованием C++ и библиотеки Qt.

### Область применения

Программа предназначена для изучения, визуализации и анализа базовых растровых алгоритмов отрисовки графических примитивов, таких как линии и окружности. Она может быть использована в учебных целях для закрепления теоретических знаний и демонстрации работы алгоритмов на практике.

### Назначение программы

- Реализация и визуализация следующих растровых алгоритмов:
  - Пошаговый алгоритм (Step by Step)
  - Алгоритм цифрового дифференциального анализатора (ЦДА/DDA)
  - Алгоритм Брезенхема для отрезков
  - Алгоритм Брезенхема для окружностей
- Предоставление графического интерфейса пользователя (GUI) для взаимодействия с алгоритмами.
- Возможность масштабирования, очистки холста и измерения времени выполнения каждого алгоритма.

### Функциональные возможности

- Выбор алгоритма для отрисовки из списка предоставленных.
- Ввод начальных и конечных координат для отрезков.
- Ввод центра и радиуса для окружностей.
- Отрисовка координатной сетки с возможностью масштабирования.
- Отображение времени выполнения выбранного алгоритма.
- Интерактивные элементы управления для увеличения/уменьшения масштаба и очистки холста.
- Возможность сохранения холста в файл в формате PNG/JPG.

---

## Описание программы

### Структура программы

- **PKG_LAB4**: основной класс приложения, унаследованный от `QMainWindow`.
  - **Основные компоненты**:
    - **Главное окно**:
      - Меню с возможностью выбора алгоритма, сохранения изображения и выхода.
      - Холст для рисования (`QGraphicsView` с `QGraphicsScene`).
      - Панель инструментов для управления масштабом, очисткой и выбора алгоритма.
    - **Диалоговые окна**:
      - Поля ввода координат и параметров (например, радиуса окружности).
      - Отображение времени выполнения алгоритмов.
  - **Методы обработки событий**:
    - `drawLineStepByStep`: реализация пошагового алгоритма отрисовки линии.
    - `drawLineDDA`: реализация алгоритма ЦДА.
    - `drawLineBresenham`: реализация алгоритма Брезенхема для отрезков.
    - `drawCircleBresenham`: реализация алгоритма Брезенхема для окружностей.
    - `clearCanvas`: очистка холста.
    - `zoomIn` и `zoomOut`: увеличение и уменьшение масштаба.
    - `exportToImage`: функция сохранения текущего состояния холста в файл.
- **Алгоритмы рисования**:
  - Реализованы в виде отдельных методов класса.
  - Каждый метод измеряет время выполнения с использованием `QElapsedTimer`.
  - Методы используют координаты, задаваемые пользователем, и преобразуют их в дискретные значения для отрисовки на сетке.
- **Вспомогательные функции**:
  - `drawPixel`: отрисовка отдельного пикселя с учетом масштаба.
  - `drawGrid`: отрисовка координатной сетки.
  - `toSceneCoordinates`: преобразование логических координат в координаты сцены.

---

### Используемые библиотеки и модули

- **Qt Widgets**: для создания графического интерфейса.
- **Qt Core**: для обработки событий и измерения времени выполнения.
- **Qt GUI**: для работы с графикой.
- **QElapsedTimer**: для измерения времени выполнения алгоритмов.

---

### Логические структуры данных

- **Переменные класса**:
  - `scale`: текущий масштаб отображения (по умолчанию 1).
  - `algorithm`: текущий выбранный алгоритм.
  - `scene`: объект `QGraphicsScene` для рисования графики.
- **Графические элементы**:
  - Линии и точки, добавляемые на графическую сцену.
  - Сетка координат с подписями осей.
- **Поля ввода**:
  - Координаты начальной и конечной точек для отрезков.
  - Центр и радиус для окружностей.

---

### Взаимодействие с пользователем

- Пользователь выбирает алгоритм из выпадающего списка.
- Вводит координаты или параметры фигуры в диалоговом окне.
- Нажимает кнопку «Отрисовать», чтобы выполнить выбранный алгоритм.
- Использует кнопки масштабирования для изменения масштаба отображения.
- Нажимает кнопку «Очистить», чтобы стереть все элементы с холста.
- Сохраняет результат в файл, используя пункт меню «Сохранить как».

---

## Инструкция по установке и запуску

### Требования к системе

- **Операционная система**: Windows XP и выше.
- **Компилятор**: GCC, MSVC или любой другой совместимый с Qt.
- **Qt Framework**: версия 5.15 и выше.

### Установка

1. Установите Qt Framework, если он не установлен:
   - Загрузите с [официального сайта Qt](https://www.qt.io/).
   - Убедитесь, что установлены модули `Qt Widgets` и `Qt Core`.

2. Скачайте исходный код программы и откройте проект в Qt Creator.

3. Соберите проект:
   - Выберите сборку `Release` для оптимизированной версии.
   - Нажмите "Собрать" или выполните команду:

     ```bash
     qmake && make
     ```

4. Скопируйте скомпилированный `.exe` файл в любую удобную папку.

### Запуск программы

1. Запустите собранный `.exe` файл.
2. Для запуска из командной строки выполните:

   ```bash
   ./PKG_LAB4.exe
   ```

---

## Инструкция пользователя

1. Выберите алгоритм из выпадающего списка в панели инструментов.
2. Введите координаты начальной и конечной точек для отрисовки линии или параметры окружности.
3. Нажмите кнопку «Отрисовать», чтобы выполнить выбранный алгоритм.
4. Используйте кнопки «Увеличить» и «Уменьшить» для изменения масштаба сетки.
5. Нажмите кнопку «Очистить холст», чтобы стереть все элементы.
6. Сохраните текущий результат в файл через меню «Сохранить как».

---

## Требования к техническим характеристикам

- **Процессор**: с тактовой частотой не менее 1 ГГц.
- **Оперативная память**: не менее 512 МБ.
- **Дисплей**: с разрешением не менее 1024x768 пикселей.

---

## Обработка ошибок

- Программа обрабатывает некорректные вводы координат и параметров. При неверных данных выводится сообщение об ошибке.
- Исключения, возникающие при выполнении алгоритмов, обрабатываются и выводятся в виде сообщений в нижней части окна программы.

---

## Дополнительные сведения

### Масштабирование

- Масштаб регулируется переменной `scale`, которая изменяется с использованием кнопок «Увеличить» и «Уменьшить».
- При изменении масштаба сетка и все элементы перерисовываются с учетом новой шкалы.

### Время выполнения

- Для измерения времени выполнения используется класс `QElapsedTimer`.
- Результат отображается в миллисекундах и позволяет сравнить эффективность алгоритмов.

---

## Сопровождение и развитие

- Код структурирован и снабжен комментариями, что упрощает его модификацию.
- Для добавления новых алгоритмов можно дополнять методы отрисовки и расширять интерфейс программы.

---

## Ссылки на используемые стандарты

- **ГОСТ 19.101-77** — Виды программ и программных документов.
- **ГОСТ 19.402-78** — Описание программы.
- **ГОСТ 19.505-79** — Руководство оператора.

---

## Заключение

Программа **PKG_LAB4** предоставляет удобный инструмент для изучения и визуализации базовых растровых алгоритмов. Ее структура и интерфейс соответствуют требованиям, что обеспечивает возможность дальнейшего сопровождения и развития проекта.
